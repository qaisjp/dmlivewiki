# dmlivewiki

This has only been tested on Windows, but it *probably* works on other systems.

Use `dmlivewiki help` for help.

## Commands

__dmlivewiki__ operates in batch mode by default. Use the `-s` flag to indicate that the action should be performed against a singular folder instead.

- `dmlivewiki generate <directory> --tour "<tour name>" --tour-file <tourfile.txt>`
    - Generates an information file (`.txt`) of each album in a given directory. The information file will contain the name of the tour that has been given.
- `dmlivewiki checksum <directory>`
    - Performs a checksum of each album in the given directory, placing `.ffp` and `.md5` checksum files in each folder.
- `dmlivewiki verify <directory>`
    - Verifies the contents of files listed in the `.ffp` and `.md5` files.
- `dmlivewiki wiki <directory>`
    - Generates a `.wiki` file of each album in a given directory. The information in the wiki file is derived from the data in the corresponding "information file".
    - The filename is dervied from the "Album" field, which is also available in the "information file".
    - For batch mode, it creates a folder called `__wikifiles` in the tour folder, and places `.wiki` files there instead of inside each album.
- `dmlivewiki find <directory>`
    - Looks through each information file in a given directory, and reports the absence of defined notes.

## Directory structure
```
- tour
    - __wikifiles (generated by `wiki` to collect all wikifiles in one folder for batch mode)
        - ..realAlbumName.wiki (see below)
    - album (functionality for CDs forgotten...)
        - CD1
        - CD2
    - album (represented by `albumFolderName` here)
        *.flac
        *.mp3
        albumFolderName.txt (generated by `generate`)
        albumFolderName.ffp (generated by `checksum`)
        albumFolderName.md5 (generated by `checksum`)
        realAlbumName.wiki (generated by `wiki`, single mode only)
    - ..album
- ..tour
```

# Requires
This only requires `metaflac.exe` and `libflac.dll` to be on the system, located in the same folder as `dmlivewiki`. You can obtain this from [xiph.org](https://xiph.org/flac/download.html), but the binary (distributed under the GPL) is distributed in the release zip.

- On Debian/Ubuntu/whatever you can use `apt install flac` to get `metaflac`.
- On macOS use `brew install flac`
